/*
* mqGenie v0.2.2
*
* Adjusts CSS media queries in browsers that include the scrollbar's width in the viewport width so they fire at the intended size
*
* Returns the mqGenie object containing .adjusted, .width & fontSize for use in re-calculating media queries in JavaScript with mqAdjust(string)
*
* Copyright (c) 2013 Matt Stow
*
* http://mattstow.com
*
* Licensed under the MIT license
*/
;var cssjs=(function(){function c(j,k){var n=j.cssRules?j.cssRules:j.media,m,o=[],h=0,l=n.length;for(h;h<l;h++){m=n[h];if(k(m)){o.push(m)}}return o}function f(h){return c(h,function i(j){return j.constructor===CSSStyleRule&&$(j.selectorText).length===0})}function a(h){return c(h,function(i){return i.constructor===CSSMediaRule})}function e(i){var j=window.location,h=document.createElement("a");h.href=i;return h.hostname===j.hostname&&h.port===j.port&&h.protocol===j.protocol}function b(h){return h.ownerNode.constructor===HTMLStyleElement}function d(h){return h.href&&e(h.href)}function g(){var m=document.styleSheets,j,l=m.length,h=0,k=[];for(h;h<l;h++){j=m[h];if(d(j)||b(j)){k.push(j)}}return k}return{sameOrigin:e,getStylesheets:g,getUnusedRules:f,getMediaQueries:a}}());var mqGenie=(function(){var d=document.documentElement;if(window.getComputedStyle&&window.getComputedStyle(d).getPropertyValue("overflow-y")!="scroll"){d.style.overflowY="scroll"}var f=window.innerWidth-d.clientWidth,e={adjusted:!("WebkitAppearance" in d.style)&&f>0,width:f,fontSize:16};if(e.adjusted){var a,g;if(window.getComputedStyle){e.fontSize=parseFloat(window.getComputedStyle(d).getPropertyValue("font-size"))}var h=cssjs.getStylesheets(),c=0;for(c;c<h.length;c++){a=cssjs.getMediaQueries(h[c]);for(var b=0;b<a.length;b++){g=a[b].media.mediaText.replace(/\d+px/gi,function(i){return parseInt(i,10)+e.width+"px"});g=g.replace(/\d.+?em/gi,function(i){return((parseFloat(i)*e.fontSize)+e.width)/e.fontSize+"em"});a[b].media.mediaText=g}}}return e})();var mqAdjust=function(b){if(!mqGenie.adjusted){return b}var a=b.replace(/\d+px/gi,function(d){return parseInt(d,10)+mqGenie.width+"px"});a=a.replace(/\d.+?em/gi,function(d){return((parseFloat(d)*mqGenie.fontSize)+mqGenie.width)/mqGenie.fontSize+"em"});return a};